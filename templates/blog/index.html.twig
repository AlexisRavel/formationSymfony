{% extends 'base.html.twig' %}

{% block title %}Bienvenue sur mon Blog !{% endblock %}

{% block body %}
    <a href="{{ path('app_login') }}">Connexion</a>

    <div {{ stimulus_controller('hello') }}></div>

    {# REACT #}
    {% if app.user != null %}
        <div {{ react_component('App', {'user': {"id":app.user.id, "name":app.user.username}}) }}></div>
    {% else %}
        <div {{ react_component('App', {'user': null}) }}></div>
    {% endif %}

    {# Post et le lien vers ce dernier #}
    {% for publication in publications %}
        <h4>{{publication.title}}</h4>
        <p>
            <a href="{{ path('publication', { id: publication.id}) }}">Plus de détails</a>
        </p>
    {% endfor %}

    {# Boutons pour faire défiler les articles deux par deux #}
    {% if previous >= 0 %}
        <a href="{{ path('app_blog', { offset: previous }) }}">Previous</a>
    {% endif %}
    {% if next < nbPosts %}
        <a href="{{ path('app_blog', { offset: next }) }}">Next</a>
    {% endif %}
{% endblock %}
